<!doctype html>
<html lang="en">
<head>
    <title>WebTundra glTF example scene</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
</head>
<body>

<!-- EC -->
<script src="../../src/util/Signals.js"></script>
<script src="../../src/util/CompoundSignal.js"></script>
<script src="../../src/network/DataSerializer.js"></script>
<script src="../../src/network/DataDeserializer.js"></script>
<script src="../../src/network/WebSocketClient.js"></script>
<script src="../../src/network/SyncManager.js"></script>
<script src="../../src/scene/UniqueIdGenerator.js"></script>
<script src="../../src/scene/Attribute.js"></script>
<script src="../../src/scene/Component.js"></script>
<script src="../../src/scene/Entity.js"></script>
<script src="../../src/scene/Scene.js"></script>
<script src="../../src/scene/EC_DynamicComponent.js"></script>
<script src="../../src/scene/EC_EnvironmentLight.js"></script>
<script src="../../src/scene/EC_Mesh.js"></script>
<script src="../../src/scene/EC_Name.js"></script>
<script src="../../src/scene/EC_Placeable.js"></script>
<script src="../../src/scene/EC_RigidBody.js"></script>
<script src="../../src/scene/EC_Script.js"></script>
<script src="../../src/scene/EC_Sky.js"></script>
<script src="../../src/scene/EC_Light.js"></script>
<script src="../../src/scene/EC_Camera.js"></script>
<script src="../../src/scene/EC_Sound.js"></script>

<script src="../../src/view/js/Three.js"></script>
<script src="../../src/view/js/Detector.js"></script>
<script src="../../src/view/js/Stats.js"></script>
<script src="../../src/view/js/THREEx.KeyboardState.js"></script>
<script src="../../src/view/js/THREEx.FullScreen.js"></script>
<script src="../../src/view/js/THREEx.WindowResize.js"></script>

<script src="../../src/view/js/loaders/gltf/glTF-parser.js"></script>
<script src="../../src/view/js/loaders/gltf/glTFLoader.js"></script>
<script src="../../src/view/js/loaders/gltf/glTFLoaderUtils.js"></script>
<!-- script src="../../src/view/js/loaders/gltf/glTFAnimation.js"></script-->

<script src="../../src/scene/SceneParser.js"></script>
<script src="../../src/app.js"></script>
<script src="../../src/WebTundraModel.js"></script>
<script src="../../src/view/ThreeView.js"></script>
<script src="../../src/view/EC_PlaceableView.js"></script>
<script src="../../src/view/EC_AnimationControllerView.js"></script>
<script src="../../src/view/BoneView.js"></script>
<script src="../../src/view/js/EditorControls.js"></script>

<!-- ------------------------------------------------------------ -->

<div id="ThreeJS" style="z-index: 1; position: absolute; left:0px; top:0px"></div>

        <xml3d id="MyXml3d" activeView="#defaultView" class="xml3d"
               style="width: 600px; height: 400px;" >
            <defs id="mainDef">

            <transform id="t_Lamp"
                       rotation="0.205942 0.331517 0.920698 1.926274"
                       scale="1.000000 1.000000 1.000000"
                       translation="400 100 600"></transform>

            <lightshader id="ls_Spot" script="urn:xml3d:lightshader:point">
              <bool name="castShadow">true</bool>
              <float3 name="attenuation">1.000000 0.033333 0.000000</float3>
              <float3 name="intensity">1.000000 1.000000 1.000000</float3>
            </lightshader>

            <transform id="t_camera" translation="0 0 1000" rotation="0 0 1 0"></transform>

            </defs>

            <group id="viewGroup" transform="#t_camera">
              <view id="defaultView"></view>
            </group>
            <group>
              <mesh id="duck" src="./duck/duck.gltf" type="triangles"></mesh>
            </group>

            <group transform="#t_Lamp">
              <light shader="#ls_Spot"></light>
            </group>
        </xml3d>
  
<script src="example-gltf.js"></script>

</body>
</html>
